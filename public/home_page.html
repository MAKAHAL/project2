<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8" />
    <title>Banki</title>

    <!-- css file -->
    <link rel="stylesheet" href="./css/style.css" />
    <!-- bootstrap css -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- bootstrap jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- table2excel -->
    <script src="https://cdn.rawgit.com/rainabba/jquery-table2excel/1.1.0/dist/jquery.table2excel.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdn.rawgit.com/rainabba/jquery-table2excel/1.1.0/dist/jquery.table2excel.min.js"></script>
</head>


<body style="background-color:whitesmoke">
    <!-- nav bar one -->
    <ul id="bar-one">
        <div class="topnav-center">
            <a>BANKI</a>
        </div>
        <div class="topnav-right">
            <a>Logout</a>
        </div>
    </ul>

    <!-- nav bar two -->
    <ul id="bar-two">
        <li id="bar-li"><a class="bar-text" id="transfer-page">Pay & Transfer</a></li>
        <li id="bar-li"><a class="bar-text" id="account-create-page">Open Account</a></li>
        <li id="bar-li"><a class="bar-text" id="account-page">Accounts</a></li>
    </ul>

    <div class="container">
        <div class="flex-item one">
            <div class="flex-item" id="checkings-box">
                <p class="subtitles">CHECKING</p>
                <p class="right-align numbers">$30,029.00</p>
                <p class="right-align">Available Balance</p>

            </div>
            <div class="flex-item" id="savings-box">
                <p class="subtitles">SAVINGS</p>
                <p class="right-align numbers">$100,029.00</p>
                <p class="right-align">Available Balance</p>
            </div>
            <div class="flex-item" id="help-box">
                <p class="subtitles">HELP</p>
            </div>
            <div class="flex-item" id="info-box">
                <p class="subtitles">INFO</p>
            </div>
        </div>
        <div class="flex-item two">
            <div class="flex-item" id="total-box">
                <p class="subtitles">TOTAL CHECKING</p>
                <p class="numbers">$30,029.00</p>
                <p>Overdraft Protection: OFF/ON
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider round"></span>
                    </label>
                </p>
                <button>Statements</button>
                <button>Paperless Statements</button>
            </div>
            <div class="flex-item" id="transactions-box">
                <p class="subtitles">TRANSACTIONS</p>
                <input type="text" name="search" id="transaction-query" placeholder="Search..">
                <ul class="list-group" id="result"></ul>
                <button>Search</button>
                <button id="table-export">Export to Excel</button>
                <p></p>
                <table id="table-data">
                    <tr>
                        <th>Transaction</th>
                        <th>Amount</th>
                        <th>Balance</th>
                    </tr>
                    <tr>
                        <td>Starbucks</td>
                        <td>$7.09</td>
                        <td>$40,000.00</td>
                    </tr>
                    <tr>
                        <td>Home Depot</td>
                        <td>$45.21</td>
                        <td>$40,000.00</td>
                    </tr>
                    <tr>
                        <td>Voodo Donut</td>
                        <td>$23.50</td>
                        <td>$40,000.00</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>


<script>
    $('#account-page').on('click', function () {
        location.href = 'home_page.html';
    });
    $('#account-create-page').on('click', function () {
        location.href = 'account_create_page.html';
    });
    $('#transfer-page').on('click', function () {
        location.href = 'transfer_page.html';
    });

    // live search code input
    $(document).ready(function () {
        $('#transaction-query').keyup(function () {
            // $('#result').html('');
            let searchField = $('#transaction-query').val();
            let expression = new RegExp(searchField, 'i');

            // how can I have the th stay?
            // $(this).prepend(
            //     '<tr><td>' + 'Transaction' + '</td>' +
            //     '<td>' + 'Amount' + '</td>' +
            //     '<td>' + 'Balance' + '</td></tr>'
            // )
            $('table tr').each(function () {
                if ($(this).text().search(expression) < 0) {
                    $(this).fadeOut();
                } else {
                    $(this).show();
                }
            });

        });
    });


    // export transactions table into excel with jquery
    $('#table-export').on('click', function () {
        $('#table-data').table2excel({
            name: "User Complete Transactions",
            filename: 'Transactions',
            fileext: '.xls',
            preserveColors: true
        });
    });
</script>

</html>